<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 18 Data Structures | Urban Informatics Toolkit</title>
  <meta name="description" content="A hands on introduction approach to analyzing the urban Commons." />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 18 Data Structures | Urban Informatics Toolkit" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A hands on introduction approach to analyzing the urban Commons." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 18 Data Structures | Urban Informatics Toolkit" />
  
  <meta name="twitter:description" content="A hands on introduction approach to analyzing the urban Commons." />
  

<meta name="author" content="Josiah Parry" />


<meta name="date" content="2020-02-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="case-study-twitter-data.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Urban Informatics Toolkit</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a></li>
<li class="chapter" data-level="2" data-path="the-basics.html"><a href="the-basics.html"><i class="fa fa-check"></i><b>2</b> The basics</a></li>
<li class="chapter" data-level="3" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html"><i class="fa fa-check"></i><b>3</b> R as a calculator</a></li>
<li class="part"><span><b>I Toolkit Foundations</b></span></li>
<li class="chapter" data-level="4" data-path="visual-analysis.html"><a href="visual-analysis.html"><i class="fa fa-check"></i><b>4</b> Visual Analysis</a></li>
<li class="chapter" data-level="5" data-path="schools-of-urban-informatics.html"><a href="schools-of-urban-informatics.html"><i class="fa fa-check"></i><b>5</b> Schools of Urban Informatics</a></li>
<li class="chapter" data-level="6" data-path="broken-windows-and-the-origin-of-ecometrics.html"><a href="broken-windows-and-the-origin-of-ecometrics.html"><i class="fa fa-check"></i><b>6</b> Broken Windows and the origin of Ecometrics</a></li>
<li class="chapter" data-level="7" data-path="reading-data.html"><a href="reading-data.html"><i class="fa fa-check"></i><b>7</b> Reading data</a></li>
<li class="chapter" data-level="8" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html"><i class="fa fa-check"></i><b>8</b> General data manipulation</a></li>
<li class="chapter" data-level="9" data-path="visualizing-trends-and-relationships.html"><a href="visualizing-trends-and-relationships.html"><i class="fa fa-check"></i><b>9</b> Visualizing Trends and Relationships</a></li>
<li class="chapter" data-level="10" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>10</b> Data Structures</a></li>
<li class="chapter" data-level="11" data-path="summary-statistics.html"><a href="summary-statistics.html"><i class="fa fa-check"></i><b>11</b> Summary statistics</a></li>
<li class="chapter" data-level="12" data-path="the-pipe.html"><a href="the-pipe.html"><i class="fa fa-check"></i><b>12</b> The pipe <code>%&gt;%</code></a></li>
<li class="chapter" data-level="13" data-path="summarizing-the-tidy-way.html"><a href="summarizing-the-tidy-way.html"><i class="fa fa-check"></i><b>13</b> summarizing the tidy way</a></li>
<li class="chapter" data-level="14" data-path="i-have-two-datasets-what-now.html"><a href="i-have-two-datasets-what-now.html"><i class="fa fa-check"></i><b>14</b> I have two datasets, what now?</a></li>
<li class="chapter" data-level="15" data-path="spatial-analysis.html"><a href="spatial-analysis.html"><i class="fa fa-check"></i><b>15</b> Spatial Analysis</a></li>
<li class="chapter" data-level="16" data-path="creating-ecometrics.html"><a href="creating-ecometrics.html"><i class="fa fa-check"></i><b>16</b> Creating Ecometrics</a></li>
<li class="part"><span><b>II Case Studies</b></span></li>
<li class="chapter" data-level="17" data-path="case-study-twitter-data.html"><a href="case-study-twitter-data.html"><i class="fa fa-check"></i><b>17</b> Case Study: Twitter Data</a></li>
<li class="chapter" data-level="18" data-path="data-structures-1.html"><a href="data-structures-1.html"><i class="fa fa-check"></i><b>18</b> Data Structures</a></li>
<li class="divider"></li>
<li><a href="https://github.com/josiahparry/urban-informatics-toolkit" target="blank">GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Urban Informatics Toolkit</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-structures-1" class="section level1">
<h1><span class="header-section-number">Chapter 18</span> Data Structures</h1>
<p>There is a topic I have been skirting around for some time now and I think it is time that we have to have a rather important conversation. It’s one that is almost never fun but is quite necessary because without it, there may be many painful lessons learned in the future. We’re going to spend this next chapter talking about data structures—but not all of them! We’ll only cover the three most common and, by the end of this, it is my hope you will have a much stronger idea of <em>what</em> you are working with and <em>why</em> it behaves the way it does.</p>
<p>We will cover vectors, data frames rather briefly, and lists. We’ll talk about some of their defining characteristics and how we can interact with them. Often the theory behind these object types are ommitted, but I am of the mind that learning this early on will pay off in dividends. Take a deep breath before we dive in and remind yourself that it ain’t nothin’ but a thing.</p>
<div id="atomic-vectors-1" class="section level2">
<h2><span class="header-section-number">18.1</span> Atomic Vectors</h2>
<p>I like to think of the atomic vector as the building block of any R object. You’ve actually been working with atomic vectors this entire time. But we haven’t been very explicit about this yet. Up until this point we have been working mainly with tibbles. Each column of a tibble is <em>actually</em> an atomic vector.</p>
<p>What makes a vector a atomic is that it can only be <strong>a single data type</strong> and that they are <em>one-dimensional</em>—opposed to tibbles which are two-dimensional (<a href="https://swcarpentry.github.io/r-novice-inflammation/13-supp-data-structures/" class="uri">https://swcarpentry.github.io/r-novice-inflammation/13-supp-data-structures/</a>). You may have noticed that every value of a column is of the same data type. This means that they are rather strict to work with and for good reason. Imagine you wanted to multiple a column by 10, what would happen if a few of the values in the column were actually written out as text? Let’s try exploring this idea.</p>
<p>The most common way to create a vector in R is to use the <code>c()</code> function. This stands for <em>combine</em>. We can <code>c</code>ombine as many elements as we want into a single vector using <code>c()</code>. Each element of the vector is it’s own argument (separated by a comma).</p>
<p>For example if we wanted to create a vector of <a href="https://data.bls.gov/timeseries/LAUMT257165000000003?amp%253bdata_tool=XGtable&amp;output_view=data&amp;include_graphs=true">Boston’s unemployment rate</a> rate for each month in 2019 that we have data for (until October as of this writing on 2019-12-18) we could write the below. We will save it in a a vector called <code>unemp</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">unemp &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">3.2</span>, <span class="fl">2.8</span>, <span class="fl">2.8</span>, <span class="fl">2.4</span>, <span class="fl">2.8</span>, <span class="fl">2.9</span>, <span class="fl">2.7</span>, <span class="fl">2.6</span>, <span class="fl">2.7</span>, <span class="fl">2.3</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">unemp</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">##  [1] 3.2 2.8 2.8 2.4 2.8 2.9 2.7 2.6 2.7 2.3</span></a></code></pre></div>
<p>What is really great about vectors is that we can perform any number of operations on them—i.e. find the sum of all the values, the average, add a value to each element, etc.</p>
<p>If we wanted to find the average unemployment rate for Boston for Jan - Oct. 2019, we can supply the vector to the function <code>mean()</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">mean</span>(unemp)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">## [1] 2.72</span></a></code></pre></div>
<p>However, you may be thinking “there are 12 months in a year not 10 and that should be represented” and if you are, I totally agree with you. Since the data for November and December are missing, we should denote that and update <code>unemp</code> accordingly. R uses <code>NA</code> to represent missing data. To represent this we can append two <code>NA</code>s to the vector we have. There are two ways we can do this. We can either combine <code>unemp</code> with two <code>NA</code>s, or rewrite the above vector.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># combining existing with 2 NAs</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">c</span>(unemp, <span class="ot">NA</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">##  [1] 3.2 2.8 2.8 2.4 2.8 2.9 2.7 2.6 2.7 2.3  NA  NA</span></a></code></pre></div>
<p>This works, but since we will be saving this to <code>unemp</code> again it is not best practices to use the variable you are changing in that objects assignment.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># for example</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">unemp &lt;-<span class="st"> </span><span class="kw">c</span>(unemp, <span class="ot">NA</span>, <span class="ot">NA</span>)</a></code></pre></div>
<p>The above is rather unclear and might confuse someone that will have to read your code at a later time—that person may even be you. For this reason we will redefine it.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">unemp &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">3.2</span>, <span class="fl">2.8</span>, <span class="fl">2.8</span>, <span class="fl">2.4</span>, <span class="fl">2.8</span>, <span class="fl">2.9</span>, <span class="fl">2.7</span>, <span class="fl">2.6</span>, <span class="fl">2.7</span>, <span class="fl">2.3</span>, <span class="ot">NA</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">unemp</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">##  [1] 3.2 2.8 2.8 2.4 2.8 2.9 2.7 2.6 2.7 2.3  NA  NA</span></a></code></pre></div>
<p>We know that there are 12 elements in this vector, but sometimes it is quite nice to sanity check oneself. We can always find out how long (or how many elements are in) a vector is by supplying the vector to the <code>length()</code> function.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># how many observations are in `unemp`?</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">length</span>(unemp)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">## [1] 12</span></a></code></pre></div>
<p>There are a total of six types of vectors. Fortunately, only four of these really matter to us. These are <code>integer</code>, <code>double</code>, <code>character</code>, <code>logical</code>.</p>
<ul>
<li>integers represent whole numbers</li>
<li>to explicitly specify an integer we append an <code>L</code> after the number such as <code>20L</code></li>
<li>doubles are any nunber that requires any precision. you can specify doubles in a number of formats.
<ul>
<li>we will use only decimals</li>
</ul></li>
<li>we bucket both integer and double into the category of numeric</li>
<li><p>character vectors, as you have previously learned, are created by the use of quotations, either <code>&quot;</code> or <code>'</code>.</p></li>
<li>we’ve already created a vector of type double, <code>unemp</code>
<ul>
<li>you can check the type of vector is it with <code>typeof()</code></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">typeof</span>(unemp)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">## [1] &quot;double&quot;</span></a></code></pre></div>
<ul>
<li>we can also create an integer vector to represent the month numerically.</li>
<li>you have also already learned this</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">month &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">12</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="kw">typeof</span>(month)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">## [1] &quot;integer&quot;</span></a></code></pre></div>
<ul>
<li>there are also a number of constant vectors that are built into R these being the letters of the alphabet (<code>letters</code> and <code>LETTERS</code> respectively), as well as <code>month.abb</code>, <code>month.name</code>, and <code>pi</code>.</li>
<li><code>month.name</code> is already available</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">typeof</span>(month.name)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co">## [1] &quot;character&quot;</span></a></code></pre></div>
<ul>
<li><p>logical vectors are represented as the values <code>TRUE</code> and <code>FALSE</code>.</p></li>
<li>recall that vectors are atomic, meaning that there can only be one vector type. we cannot mix and match.</li>
<li>When a character is the presence of another type of vector, that value is coerced into a character</li>
<li><p>coersion is the process of contextually changing an objects from one type to another</p></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="kw">typeof</span>(x)</a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">## [1] &quot;character&quot;</span></a></code></pre></div>
<ul>
<li>Something similar happens when a logical value is in the presence of a numeric value</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="dv">1</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">## [1] 1 1 0</span></a></code></pre></div>
<ul>
<li>in the presence of a numeric value, <code>TRUE</code> becomes equal to <code>1L</code> and <code>FALSE</code> equal to <code>0L</code></li>
<li>this behavior exists whenever a logical value is presented in the context where a numeric is expected</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">sum</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co">## [1] 1</span></a></code></pre></div>
<ul>
<li>while coersion occurs from other processes like combining values in a vector, <em>casting</em> is the process of intentionally changing an object’s class</li>
<li>there are a number of casting functions</li>
<li>these take the shape of <code>as.class()</code> o <code>as_class()</code></li>
<li>each of the vector types covered have their own casting functions such as `as.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">as.integer</span>(<span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">## [1] 1</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="kw">as.character</span>(<span class="dv">123</span>)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">## [1] &quot;123&quot;</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="kw">as.double</span>(<span class="st">&quot;2.331&quot;</span>)</a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">## [1] 2.331</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="kw">as.logical</span>(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">## [1] FALSE</span></a></code></pre></div>
<ul>
<li>it is important to know how to change a vector’s type.</li>
<li><p>as you progress, you will find scenarios in which you need to cast objects from one class to another and these functions are the trick!</p></li>
<li>You now have a strong understanding of the underbellies of R vectors</li>
<li>But one thing that is missing is an understanding of how we can select subsets from vectors</li>
<li>to extract a value from vectors we append square brackets at the end of the vector <code>vec[]</code></li>
<li><p>we can supply an index value to the square brackets to receive the value at that position</p></li>
<li><p>to select the month of january from the <code>unemp</code> vector, we provide the value of <code>1</code> to the brackets.</p></li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">unemp[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="co">## [1] 3.2</span></a></code></pre></div>
<ul>
<li>to extract more than one value, we provide a vector of the row indexes we desire</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">unemp[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co">## [1] 3.2 2.8</span></a></code></pre></div>
<ul>
<li>Now, there is yet another way to extract values from these vectors</li>
<li>we can provide a logical vector to our square bracket index</li>
<li>for example, we can identify every value of <code>unemp</code> that is above the average</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co"># find average </span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">avg_unemp &lt;-<span class="st"> </span><span class="kw">mean</span>(unemp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb16-3" data-line-number="3"></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co"># identify which values are above average</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5">index &lt;-<span class="st"> </span>unemp <span class="op">&gt;</span><span class="st"> </span>avg_unemp</a>
<a class="sourceLine" id="cb16-6" data-line-number="6"></a>
<a class="sourceLine" id="cb16-7" data-line-number="7">index</a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="co">##  [1]  TRUE  TRUE  TRUE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE    NA</span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">## [12]    NA</span></a></code></pre></div>
<ul>
<li>notice that the <code>NA</code>s stayed <code>NA</code>? they can be pesky. as hadley says in adv R “Missing values tend to be infectious: most computations involving a missing value will return another missing value.” (<a href="https://adv-r.hadley.nz/vectors-chap.html" class="uri">https://adv-r.hadley.nz/vectors-chap.html</a>)</li>
<li>provide the index to unemp to get the subset</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">unemp[index]</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">## [1] 3.2 2.8 2.8 2.8 2.9  NA  NA</span></a></code></pre></div>
<ul>
<li>how annoying those <code>NA</code>s can be!</li>
<li>we can add another condition to our <code>index</code> line to remove <code>NA</code></li>
<li>like there are <code>as.*()</code> functions for casting, there are also <code>is.*()</code> functions for testing</li>
<li><code>is.*()</code> returns a logical vector of the same length as the provided vector</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">is.na</span>(unemp)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="co">##  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="co">## [12]  TRUE</span></a></code></pre></div>
<ul>
<li>as we learned, we can negate logical vectors with an <code>!</code></li>
<li>combine the negation with an and condition to only identify unemployment values above average <em>and</em> aren’t missing</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">index &lt;-<span class="st"> </span>unemp <span class="op">&gt;</span><span class="st"> </span>avg_unemp <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(unemp)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"></a>
<a class="sourceLine" id="cb19-3" data-line-number="3">unemp[index]</a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="co">## [1] 3.2 2.8 2.8 2.8 2.9</span></a></code></pre></div>
<ul>
<li>there is one last thing to keep in mind when subsetting from a logical vector and that is vectors of different length</li>
<li>when you use a logical vector to subset and they are of differing length, the logical vector will be recycled for the remaining values of the vector being subset</li>
<li>an example will be the best</li>
<li>say we have an object called <code>x</code> which are the values from 0 to 10 and an <code>index</code> to subset with</li>
<li>if we subset it with <code>index</code> and <code>index</code> is a logical vector of length two with the values of <code>TRUE</code> and <code>FALSE</code>, every other observation will be returned. This is because come the third value in <code>x</code>, R has ran out of values in <code>index</code> to use so it goes back to the beginning</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">0</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"></a>
<a class="sourceLine" id="cb20-3" data-line-number="3">index &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb20-4" data-line-number="4"></a>
<a class="sourceLine" id="cb20-5" data-line-number="5">x[index]</a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="co">## [1]  0  2  4  6  8 10</span></a></code></pre></div>
<p>And what happens when the only value is a single logical value?</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">x[<span class="ot">TRUE</span>]</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="co">##  [1]  0  1  2  3  4  5  6  7  8  9 10</span></a></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">x[<span class="ot">FALSE</span>]</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co">## integer(0)</span></a></code></pre></div>
<p>In this latter case see how the output says <code>integer(0)</code>. This is informing you that the vector contains 0 elements.</p>
</div>
<div id="data-frames-1" class="section level2">
<h2><span class="header-section-number">18.2</span> Data Frames</h2>
<p>The entirety of the work in this book so far has been with <code>tibbles</code>. Tibbles are actually a special type of data frame. Data frames are R’s native way for storing rectangular data. Rectangles are two-dimensional, so are data frames.</p>
<p>Data frames are secretly just a bunch of vectors squished together. The important thing is that all vectors are of the same length. This ensures that each observation (row) has one value from each vector. Because of the nature of a data frame, each column must adhere to the rules of vectors.</p>
<p>Let’s create a tibble using the <code>unemp</code> vector and the <code>tibble()</code> function. <code>tibble()</code> works in a somewhat similar manner as <code>mutate()</code> where the arguments we provide are name value pairs. In the case of tibble, the argument take the form of <code>col_name = vector</code>.</p>
<p>We create a tibble with the unemployment rate below.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb23-2" data-line-number="2"></a>
<a class="sourceLine" id="cb23-3" data-line-number="3"><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb23-4" data-line-number="4">  <span class="dt">unemp_rate =</span> unemp</a>
<a class="sourceLine" id="cb23-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="co">## # A tibble: 12 x 1</span></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="co">##    unemp_rate</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8"><span class="co">##         &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="co">##  1        3.2</span></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="co">##  2        2.8</span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11"><span class="co">##  3        2.8</span></a>
<a class="sourceLine" id="cb23-12" data-line-number="12"><span class="co">##  4        2.4</span></a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="co">##  5        2.8</span></a>
<a class="sourceLine" id="cb23-14" data-line-number="14"><span class="co">##  6        2.9</span></a>
<a class="sourceLine" id="cb23-15" data-line-number="15"><span class="co">##  7        2.7</span></a>
<a class="sourceLine" id="cb23-16" data-line-number="16"><span class="co">##  8        2.6</span></a>
<a class="sourceLine" id="cb23-17" data-line-number="17"><span class="co">##  9        2.7</span></a>
<a class="sourceLine" id="cb23-18" data-line-number="18"><span class="co">## 10        2.3</span></a>
<a class="sourceLine" id="cb23-19" data-line-number="19"><span class="co">## 11       NA  </span></a>
<a class="sourceLine" id="cb23-20" data-line-number="20"><span class="co">## 12       NA</span></a></code></pre></div>
<p>We can add the month name and create a new column to indicate if that month has a higher than average unemployment rate.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">unemp_tbl &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">  <span class="dt">unemp_rate =</span> unemp, </a>
<a class="sourceLine" id="cb24-3" data-line-number="3">  <span class="dt">month =</span> month.name</a>
<a class="sourceLine" id="cb24-4" data-line-number="4">) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">above_avg =</span> unemp_rate <span class="op">&gt;</span><span class="st"> </span>avg_unemp)</a>
<a class="sourceLine" id="cb24-6" data-line-number="6"></a>
<a class="sourceLine" id="cb24-7" data-line-number="7">unemp_tbl</a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="co">## # A tibble: 12 x 3</span></a>
<a class="sourceLine" id="cb24-9" data-line-number="9"><span class="co">##    unemp_rate month     above_avg</span></a>
<a class="sourceLine" id="cb24-10" data-line-number="10"><span class="co">##         &lt;dbl&gt; &lt;chr&gt;     &lt;lgl&gt;    </span></a>
<a class="sourceLine" id="cb24-11" data-line-number="11"><span class="co">##  1        3.2 January   TRUE     </span></a>
<a class="sourceLine" id="cb24-12" data-line-number="12"><span class="co">##  2        2.8 February  TRUE     </span></a>
<a class="sourceLine" id="cb24-13" data-line-number="13"><span class="co">##  3        2.8 March     TRUE     </span></a>
<a class="sourceLine" id="cb24-14" data-line-number="14"><span class="co">##  4        2.4 April     FALSE    </span></a>
<a class="sourceLine" id="cb24-15" data-line-number="15"><span class="co">##  5        2.8 May       TRUE     </span></a>
<a class="sourceLine" id="cb24-16" data-line-number="16"><span class="co">##  6        2.9 June      TRUE     </span></a>
<a class="sourceLine" id="cb24-17" data-line-number="17"><span class="co">##  7        2.7 July      FALSE    </span></a>
<a class="sourceLine" id="cb24-18" data-line-number="18"><span class="co">##  8        2.6 August    FALSE    </span></a>
<a class="sourceLine" id="cb24-19" data-line-number="19"><span class="co">##  9        2.7 September FALSE    </span></a>
<a class="sourceLine" id="cb24-20" data-line-number="20"><span class="co">## 10        2.3 October   FALSE    </span></a>
<a class="sourceLine" id="cb24-21" data-line-number="21"><span class="co">## 11       NA   November  NA       </span></a>
<a class="sourceLine" id="cb24-22" data-line-number="22"><span class="co">## 12       NA   December  NA</span></a></code></pre></div>
<p>To interact with the underlying vector of a data frame we can use the dollar sign <code>$</code> operator. This takes the form of <code>tbl$col_name</code>.</p>
<p>For example, extracting the <code>unemp_rate</code> column looks like:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">unemp_tbl<span class="op">$</span>unemp_rate</a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="co">##  [1] 3.2 2.8 2.8 2.4 2.8 2.9 2.7 2.6 2.7 2.3  NA  NA</span></a></code></pre></div>
<p>Note that the difference between <code>select(tbl, col)</code> and <code>tbl$col</code>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">select</span>(unemp_tbl, unemp_rate)</a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="co">## # A tibble: 12 x 1</span></a>
<a class="sourceLine" id="cb26-3" data-line-number="3"><span class="co">##    unemp_rate</span></a>
<a class="sourceLine" id="cb26-4" data-line-number="4"><span class="co">##         &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb26-5" data-line-number="5"><span class="co">##  1        3.2</span></a>
<a class="sourceLine" id="cb26-6" data-line-number="6"><span class="co">##  2        2.8</span></a>
<a class="sourceLine" id="cb26-7" data-line-number="7"><span class="co">##  3        2.8</span></a>
<a class="sourceLine" id="cb26-8" data-line-number="8"><span class="co">##  4        2.4</span></a>
<a class="sourceLine" id="cb26-9" data-line-number="9"><span class="co">##  5        2.8</span></a>
<a class="sourceLine" id="cb26-10" data-line-number="10"><span class="co">##  6        2.9</span></a>
<a class="sourceLine" id="cb26-11" data-line-number="11"><span class="co">##  7        2.7</span></a>
<a class="sourceLine" id="cb26-12" data-line-number="12"><span class="co">##  8        2.6</span></a>
<a class="sourceLine" id="cb26-13" data-line-number="13"><span class="co">##  9        2.7</span></a>
<a class="sourceLine" id="cb26-14" data-line-number="14"><span class="co">## 10        2.3</span></a>
<a class="sourceLine" id="cb26-15" data-line-number="15"><span class="co">## 11       NA  </span></a>
<a class="sourceLine" id="cb26-16" data-line-number="16"><span class="co">## 12       NA</span></a></code></pre></div>
<p>The difference is that <code>$</code> returns the underlying vector whereas <code>select()</code> will always return another data frame. You now have the ability to both filter data and grab a subset of a vector. But we have yet to visit how to grab a single value from a data frame.</p>
<p>You could try something like</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">unemp_tbl <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="st">  </span><span class="kw">slice</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="co">## # A tibble: 1 x 1</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5"><span class="co">##   unemp_rate</span></a>
<a class="sourceLine" id="cb27-6" data-line-number="6"><span class="co">##        &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb27-7" data-line-number="7"><span class="co">## 1        2.3</span></a></code></pre></div>
<p>to grab the 10th value of the first column. But again, you still have a tibble and you are not able to use that directly like a standalone number.</p>
<p>We can again use brackets to subset the our R object. But data frames are two dimensional, so we need to specify the indexes in two dimensions. If you have made a hand drawn graph used a cartesian plane, which I assume you all have, this will is the same idea. With a cartesian plane we can identify any point with a combination of two values: x and y. x refers to the horizontal axis and y the vertical axis. When we put the cartesian plane in the same frame of reference as the rectangular data frame we envision our rows as the x and our columns as the y.</p>
<p>To replicate the above example we would provide the indexes 10 and 1 respectively.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">unemp_tbl[<span class="dv">10</span>,<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="co">## # A tibble: 1 x 1</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="co">##   unemp_rate</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="co">##        &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb28-5" data-line-number="5"><span class="co">## 1        2.3</span></a></code></pre></div>
<p>This is great, we’ve rewritten our tidyverse code in base R. But, just like the tidyverse code, we maintain the tibble data structure. This is because when we use a single bracket, it maintains the data structure of the object we are selecting from. If we wrap our brackets in another set of bracket, we are returned the an object of the same class as the underlying object.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">unemp_tbl[[<span class="dv">10</span>,<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="co">## [1] 2.3</span></a></code></pre></div>
<p>What that code is doing is narrowing the tibble down to a single column with a single row index and then extracting the underlying vector (the second bracket). To extract the underlying vector using the tidyverse, we can use the function <code>dplyr::pull()</code>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">unemp_tbl <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="st">  </span><span class="kw">slice</span>(<span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="st">  </span><span class="kw">pull</span>()</a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="co">## [1] 2.3</span></a></code></pre></div>
<p>Now this brings us to the second-most fundamental structure in R: the list. Yes, second-most fundamental. I’ve been keeping a secret from you. Data frames are actually just lists in disguise. To prove it, I will remove the class from <code>unemp_tbl</code> and return the class of that unclassed object.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">unclass</span>(unemp_tbl) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="st">  </span><span class="kw">class</span>()</a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="co">## [1] &quot;list&quot;</span></a></code></pre></div>
<p>That is right, data frames are actually just lists disguised as rectangles.</p>
</div>
<div id="lists-1" class="section level2">
<h2><span class="header-section-number">18.3</span> Lists</h2>
<p>There is a good chance that you will not have to interact with them too often That doesn’t mean you shouldn’t know how to when that time comes.</p>
<p>Lists are generally the most flexible object type in R. Unlike vectors and data frames lists do not impose any structure on the storage of our data.</p>
<p>The most simple lists may resemble something like a vector.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">list</span>(<span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>)</a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="co">## [[1]]</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="co">## [1] &quot;Jan&quot;</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="co">## </span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"><span class="co">## [[2]]</span></a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="co">## [1] &quot;Feb&quot;</span></a>
<a class="sourceLine" id="cb32-7" data-line-number="7"><span class="co">## </span></a>
<a class="sourceLine" id="cb32-8" data-line-number="8"><span class="co">## [[3]]</span></a>
<a class="sourceLine" id="cb32-9" data-line-number="9"><span class="co">## [1] &quot;Mar&quot;</span></a></code></pre></div>
<p>Notice how this prints differently than</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="co">## [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;</span></a></code></pre></div>
<p>Each element of a list is self-contained. I think of lists somewhat like shipping containers where each element is its own</p>
<p>Each element of a list can be it’s own object type. For example a list can have a data frame, vector, and another list as an element. Because of this flexibility there is no set dimensions that we can specify to our brackets.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">unclass</span>(<span class="kw">slice</span>(acs_edu, <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>))</a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="case-study-twitter-data.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["urban-commons-toolkit.pdf", "urban-commons-toolkit.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
