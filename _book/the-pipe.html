<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 13 The pipe %&gt;% | Urban Informatics Toolkit</title>
  <meta name="description" content="A hands on introduction approach to analyzing the urban Commons." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 13 The pipe %&gt;% | Urban Informatics Toolkit" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A hands on introduction approach to analyzing the urban Commons." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 13 The pipe %&gt;% | Urban Informatics Toolkit" />
  
  <meta name="twitter:description" content="A hands on introduction approach to analyzing the urban Commons." />
  

<meta name="author" content="Josiah Parry" />


<meta name="date" content="2020-04-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="thats-too-much-data.html"/>
<link rel="next" href="creating-new-measures.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Urban Informatics Toolkit</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i><b>1.1</b> Structure of the book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#considerations"><i class="fa fa-check"></i><b>1.2</b> Considerations</a></li>
</ul></li>
<li class="part"><span><b>I Foundations of Urban Informatics</b></span></li>
<li class="chapter" data-level="2" data-path="the-utility-and-danger-of-big-data.html"><a href="the-utility-and-danger-of-big-data.html"><i class="fa fa-check"></i><b>2</b> The Utility and Danger of Big Data</a></li>
<li class="chapter" data-level="3" data-path="data-in-the-municipal-context.html"><a href="data-in-the-municipal-context.html"><i class="fa fa-check"></i><b>3</b> Data in the municipal context</a></li>
<li class="chapter" data-level="4" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html"><i class="fa fa-check"></i><b>4</b> Approaches to and Schools of Urban Informatics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html#scientific-approaches"><i class="fa fa-check"></i><b>4.1</b> Scientific approaches</a></li>
<li class="chapter" data-level="4.2" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html#the-chicago-school"><i class="fa fa-check"></i><b>4.2</b> The Chicago School</a></li>
<li class="chapter" data-level="4.3" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html#complexity-and-santa-fe-institute"><i class="fa fa-check"></i><b>4.3</b> Complexity and Santa Fe Institute</a></li>
<li class="chapter" data-level="4.4" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html#a-hybrid-approach"><i class="fa fa-check"></i><b>4.4</b> A Hybrid Approach</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ecometrics.html"><a href="ecometrics.html"><i class="fa fa-check"></i><b>5</b> Ecometrics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ecometrics.html"><a href="ecometrics.html#broken-windows-theory"><i class="fa fa-check"></i><b>5.1</b> Broken Windows Theory</a></li>
<li class="chapter" data-level="5.2" data-path="ecometrics.html"><a href="ecometrics.html#quantifying-disorder"><i class="fa fa-check"></i><b>5.2</b> Quantifying Disorder</a></li>
</ul></li>
<li class="part"><span><b>II Toolkit Foundations</b></span></li>
<li class="chapter" data-level="6" data-path="the-basics.html"><a href="the-basics.html"><i class="fa fa-check"></i><b>6</b> The basics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="the-basics.html"><a href="the-basics.html#what-is-r-and-why-do-i-care"><i class="fa fa-check"></i><b>6.1</b> What is R and why do I care?</a></li>
<li class="chapter" data-level="6.2" data-path="the-basics.html"><a href="the-basics.html#the-rstudio-ide"><i class="fa fa-check"></i><b>6.2</b> The RStudio IDE</a></li>
<li class="chapter" data-level="6.3" data-path="the-basics.html"><a href="the-basics.html#installing-r-rstudio"><i class="fa fa-check"></i><b>6.3</b> Installing R &amp; RStudio</a></li>
<li class="chapter" data-level="6.4" data-path="the-basics.html"><a href="the-basics.html#preventative-care"><i class="fa fa-check"></i><b>6.4</b> Preventative Care</a></li>
<li class="chapter" data-level="6.5" data-path="the-basics.html"><a href="the-basics.html#before-we-embark"><i class="fa fa-check"></i><b>6.5</b> Before we embark</a></li>
<li class="chapter" data-level="6.6" data-path="the-basics.html"><a href="the-basics.html#getting-help"><i class="fa fa-check"></i><b>6.6</b> Getting Help</a></li>
<li class="chapter" data-level="6.7" data-path="the-basics.html"><a href="the-basics.html#reminders"><i class="fa fa-check"></i><b>6.7</b> Reminders</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html"><i class="fa fa-check"></i><b>7</b> R as a calculator</a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#arithmetic-operators"><i class="fa fa-check"></i><b>7.1</b> Arithmetic Operators</a></li>
<li class="chapter" data-level="7.2" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#variable-assignment"><i class="fa fa-check"></i><b>7.2</b> Variable assignment</a></li>
<li class="chapter" data-level="7.3" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#functions"><i class="fa fa-check"></i><b>7.3</b> Functions</a></li>
<li class="chapter" data-level="7.4" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#extensions-to-r"><i class="fa fa-check"></i><b>7.4</b> Extensions to R</a></li>
<li class="chapter" data-level="7.5" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#loading-packages"><i class="fa fa-check"></i><b>7.5</b> Loading Packages</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="whats-next.html"><a href="whats-next.html"><i class="fa fa-check"></i><b>8</b> What’s next?</a></li>
<li class="chapter" data-level="9" data-path="reading-data.html"><a href="reading-data.html"><i class="fa fa-check"></i><b>9</b> Reading data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="reading-data.html"><a href="reading-data.html#background"><i class="fa fa-check"></i><b>9.1</b> Background</a></li>
<li class="chapter" data-level="9.2" data-path="reading-data.html"><a href="reading-data.html#actually-reading-data"><i class="fa fa-check"></i><b>9.2</b> Actually Reading Data</a></li>
<li class="chapter" data-level="9.3" data-path="reading-data.html"><a href="reading-data.html#other-common-data-formats"><i class="fa fa-check"></i><b>9.3</b> Other common data formats</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="exploratory-visual-analysis.html"><a href="exploratory-visual-analysis.html"><i class="fa fa-check"></i><b>10</b> Exploratory Visual Analysis</a>
<ul>
<li class="chapter" data-level="10.1" data-path="exploratory-visual-analysis.html"><a href="exploratory-visual-analysis.html#the-american-community-survey"><i class="fa fa-check"></i><b>10.1</b> The American Community Survey</a></li>
<li class="chapter" data-level="10.2" data-path="exploratory-visual-analysis.html"><a href="exploratory-visual-analysis.html#a-first-visualization"><i class="fa fa-check"></i><b>10.2</b> A first visualization</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html"><i class="fa fa-check"></i><b>11</b> General data manipulation</a>
<ul>
<li class="chapter" data-level="11.1" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html#scenario"><i class="fa fa-check"></i><b>11.1</b> Scenario</a></li>
<li class="chapter" data-level="11.2" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html#getting-physical-with-the-data"><i class="fa fa-check"></i><b>11.2</b> Getting physical with the data</a></li>
<li class="chapter" data-level="11.3" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html#selecting-rows"><i class="fa fa-check"></i><b>11.3</b> Selecting Rows</a></li>
<li class="chapter" data-level="11.4" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html#revisiting-commmuting"><i class="fa fa-check"></i><b>11.4</b> Revisiting commmuting</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="thats-too-much-data.html"><a href="thats-too-much-data.html"><i class="fa fa-check"></i><b>12</b> That’s <em>too much</em> data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="thats-too-much-data.html"><a href="thats-too-much-data.html#filtering"><i class="fa fa-check"></i><b>12.1</b> <code>filter()</code>ing</a></li>
<li class="chapter" data-level="12.2" data-path="thats-too-much-data.html"><a href="thats-too-much-data.html#logical-operators"><i class="fa fa-check"></i><b>12.2</b> Logical operators</a></li>
<li class="chapter" data-level="12.3" data-path="thats-too-much-data.html"><a href="thats-too-much-data.html#defining-the-greater-boston-area"><i class="fa fa-check"></i><b>12.3</b> Defining the Greater Boston Area</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="the-pipe.html"><a href="the-pipe.html"><i class="fa fa-check"></i><b>13</b> The pipe <code>%&gt;%</code></a>
<ul>
<li class="chapter" data-level="13.1" data-path="the-pipe.html"><a href="the-pipe.html#applying-the-pipe."><i class="fa fa-check"></i><b>13.1</b> Applying the pipe.</a></li>
<li class="chapter" data-level="13.2" data-path="the-pipe.html"><a href="the-pipe.html#revisiting-our-scenario"><i class="fa fa-check"></i><b>13.2</b> Revisiting our scenario</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="creating-new-measures.html"><a href="creating-new-measures.html"><i class="fa fa-check"></i><b>14</b> Creating new measures</a></li>
<li class="chapter" data-level="15" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>15</b> Data Structures</a>
<ul>
<li class="chapter" data-level="15.1" data-path="data-structures.html"><a href="data-structures.html#atomic-vectors"><i class="fa fa-check"></i><b>15.1</b> Atomic Vectors</a></li>
<li class="chapter" data-level="15.2" data-path="data-structures.html"><a href="data-structures.html#data-frames"><i class="fa fa-check"></i><b>15.2</b> Data Frames</a></li>
<li class="chapter" data-level="15.3" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>15.3</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="summary-statistics.html"><a href="summary-statistics.html"><i class="fa fa-check"></i><b>16</b> Summary statistics</a></li>
<li class="chapter" data-level="17" data-path="summarizing-the-tidy-way.html"><a href="summarizing-the-tidy-way.html"><i class="fa fa-check"></i><b>17</b> Summarizing the tidy way</a></li>
<li class="chapter" data-level="18" data-path="toolkit-review.html"><a href="toolkit-review.html"><i class="fa fa-check"></i><b>18</b> Toolkit review</a></li>
<li class="part"><span><b>III Vizualization Strategies</b></span></li>
<li class="chapter" data-level="19" data-path="layered-i.html"><a href="layered-i.html"><i class="fa fa-check"></i><b>19</b> Grammer of layered graphics I</a>
<ul>
<li class="chapter" data-level="19.1" data-path="layered-i.html"><a href="layered-i.html#the-grammar-of-layered-graphics"><i class="fa fa-check"></i><b>19.1</b> The Grammar of Layered Graphics</a></li>
<li class="chapter" data-level="19.2" data-path="layered-i.html"><a href="layered-i.html#layers-and-defaults"><i class="fa fa-check"></i><b>19.2</b> Layers and defaults</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="visualizing-trends-and-relationships.html"><a href="visualizing-trends-and-relationships.html"><i class="fa fa-check"></i><b>20</b> Visualizing Trends and Relationships</a>
<ul>
<li class="chapter" data-level="20.1" data-path="visualizing-trends-and-relationships.html"><a href="visualizing-trends-and-relationships.html#univariate-visualizations"><i class="fa fa-check"></i><b>20.1</b> Univariate visualizations</a></li>
<li class="chapter" data-level="20.2" data-path="visualizing-trends-and-relationships.html"><a href="visualizing-trends-and-relationships.html#bivariate-visualizations"><i class="fa fa-check"></i><b>20.2</b> Bivariate visualizations</a></li>
<li class="chapter" data-level="20.3" data-path="visualizing-trends-and-relationships.html"><a href="visualizing-trends-and-relationships.html#review"><i class="fa fa-check"></i><b>20.3</b> Review:</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="grammer-of-layered-graphics-ii.html"><a href="grammer-of-layered-graphics-ii.html"><i class="fa fa-check"></i><b>21</b> Grammer of layered graphics II</a>
<ul>
<li class="chapter" data-level="21.1" data-path="grammer-of-layered-graphics-ii.html"><a href="grammer-of-layered-graphics-ii.html#scales"><i class="fa fa-check"></i><b>21.1</b> Scales</a></li>
<li class="chapter" data-level="21.2" data-path="grammer-of-layered-graphics-ii.html"><a href="grammer-of-layered-graphics-ii.html#coordinates"><i class="fa fa-check"></i><b>21.2</b> Coordinates</a></li>
<li class="chapter" data-level="21.3" data-path="grammer-of-layered-graphics-ii.html"><a href="grammer-of-layered-graphics-ii.html#facets"><i class="fa fa-check"></i><b>21.3</b> Facets</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="visualizing-beyond-2-dimensions.html"><a href="visualizing-beyond-2-dimensions.html"><i class="fa fa-check"></i><b>22</b> Visualizing beyond 2-dimensions</a>
<ul>
<li class="chapter" data-level="22.1" data-path="visualizing-beyond-2-dimensions.html"><a href="visualizing-beyond-2-dimensions.html#color"><i class="fa fa-check"></i><b>22.1</b> Color</a></li>
<li class="chapter" data-level="22.2" data-path="visualizing-beyond-2-dimensions.html"><a href="visualizing-beyond-2-dimensions.html#shape-and-size"><i class="fa fa-check"></i><b>22.2</b> Shape and Size</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="visualizing-through-time.html"><a href="visualizing-through-time.html"><i class="fa fa-check"></i><b>23</b> Visualizing through time</a>
<ul>
<li class="chapter" data-level="23.1" data-path="visualizing-through-time.html"><a href="visualizing-through-time.html#working-with-dates"><i class="fa fa-check"></i><b>23.1</b> Working with dates</a></li>
<li class="chapter" data-level="23.2" data-path="visualizing-through-time.html"><a href="visualizing-through-time.html#standard-visual-approach"><i class="fa fa-check"></i><b>23.2</b> Standard visual approach</a></li>
<li class="chapter" data-level="23.3" data-path="visualizing-through-time.html"><a href="visualizing-through-time.html#animation-as-time"><i class="fa fa-check"></i><b>23.3</b> Animation as time</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="visualization-review.html"><a href="visualization-review.html"><i class="fa fa-check"></i><b>24</b> Visualization Review</a></li>
<li class="part"><span><b>IV More than hammer and nails</b></span></li>
<li class="chapter" data-level="25" data-path="multiple-data-sets.html"><a href="multiple-data-sets.html"><i class="fa fa-check"></i><b>25</b> Multiple data sets</a>
<ul>
<li class="chapter" data-level="25.1" data-path="multiple-data-sets.html"><a href="multiple-data-sets.html#exercise-2"><i class="fa fa-check"></i><b>25.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="spatial-analysis.html"><a href="spatial-analysis.html"><i class="fa fa-check"></i><b>26</b> Spatial Analysis</a>
<ul>
<li class="chapter" data-level="26.1" data-path="spatial-analysis.html"><a href="spatial-analysis.html#types-of-spatial-data"><i class="fa fa-check"></i><b>26.1</b> Types of spatial data</a></li>
<li class="chapter" data-level="26.2" data-path="spatial-analysis.html"><a href="spatial-analysis.html#working-with-spatial-data"><i class="fa fa-check"></i><b>26.2</b> Working with spatial data</a></li>
<li class="chapter" data-level="26.3" data-path="spatial-analysis.html"><a href="spatial-analysis.html#creating-simple-features-from-a-tibble"><i class="fa fa-check"></i><b>26.3</b> Creating simple features from a tibble</a></li>
<li class="chapter" data-level="26.4" data-path="spatial-analysis.html"><a href="spatial-analysis.html#plotting-sf-objects-with-ggplot"><i class="fa fa-check"></i><b>26.4</b> Plotting sf objects with ggplot</a></li>
<li class="chapter" data-level="26.5" data-path="spatial-analysis.html"><a href="spatial-analysis.html#connecting-points-to-polygons"><i class="fa fa-check"></i><b>26.5</b> Connecting points to polygons</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/josiahparry/urban-informatics-toolkit" target="blank">GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Urban Informatics Toolkit</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-pipe" class="section level1" number="13">
<h1><span class="header-section-number">Chapter 13</span> The pipe <code>%&gt;%</code></h1>
<p>Until now we have been using one function at a time. This can feel like it is rather limiting at times. The approach that we have been taking has been to perform some action, save the resultant object, and then perform another action. This leads to either overwriting the same existing object multiple times with an assignment <code>&lt;-</code> or creating multiple other objects. The former solution does not have a great story for reproducibility. At any point within a script may refr to many different objects with the same name. The second solution can clutter your working environment and lead to an excess usage of memory.</p>
<p>Well then, “what do we do instead?” you may be asking. And my answer is “use the forward pipe operator, of course.” The forward pipe operator looks like <code>%&gt;%</code>. This is a special function which allows the user to “pipe an object forward into a function or . . . expression” (Milton and Wickham, 2019). This is where the true power of the tidyverse comes from from.</p>
<p><strong>What it does</strong>: The pipe operator takes the object or the output an expression on it’s left hand side <code>lhs</code> and provides that as the first argument in the function of the right hand side. Additionally, it exposes the <code>lhs</code> as a temporary variable <code>.</code>. It is documented as <code>lhs %&gt;% rhs</code>.</p>
<p>The creator of <a href="https://github.com/rfordatascience/tidytuesday">#TidyTuesday</a> and RStudio employee, Thomas Mock has created a very illustrative example of how the pipe can simplify complex R function calls.</p>
<p>The first example illustrates the creation of intermediate variables.</p>
<pre><code>did_something &lt;- do_something(data)

did_another_thing &lt;- do_another_thing(did_something)

final_thing &lt;- do_last_thing(did_another_thing)</code></pre>
<p>The second demonstrates nesting function calls inside of other function calls.</p>
<pre><code>final_thing &lt;- do_last_thing(
  do_another_thing(
    do_something(
      data
    )
  )
)</code></pre>
<p>Nested function calls are often difficult to debug and the user may get caught up in the mintuae of properly places parentheses.</p>
<blockquote>
<p>Note: Debugging is the process of taking misbehaving code and fixing it.</p>
</blockquote>
<p>Using the pipe this chain of functions can be rewritten in the order that it happens.</p>
<pre><code>final_thing &lt;- data %&gt;% 
  do_something() %&gt;% 
  do_another_thing() %&gt;% 
  do_last_thing()</code></pre>
<p>By using the pipe we are able to align our thinking and code writing. Additionally, each function call is separated on its own line which makes debugging a less daunting task.</p>
<div id="applying-the-pipe." class="section level2" number="13.1">
<h2><span class="header-section-number">13.1</span> Applying the pipe.</h2>
<p>Remember how I pointed out that the first argument for almost every function is the data? This is where that comes in handy. This allows us to use the pipe to chain together functions and “makes it more intuitive to both read and write” (magrittr vignette).</p>
<p>The tidyverse was designed with this in mind. This is why <code>select()</code>, <code>filter()</code>, and <code>mutate()</code> among many others are data first functions. Moreover, the output of each function is always a data frame which allows the user to provide that output as input into the next function.</p>
<p>As always, the most helpful way to wrap your head around this is to see it in action. Let’s take one of the lines of code we used above and adapt it to use a pipe. We will select the name column of our data again. Previously we may have written</p>
<pre><code>my_tbl &lt;- select(data_frame, ...)
smaller_tbl &lt;- filter(my_tbl, ...)
new_col_tbl &lt;- mutate(smaller_tbl, ...)</code></pre>
<p>But now we are able to write more complex function chains such as</p>
<pre><code>data %&gt;% 
  filter() %&gt;% 
  mutate() %&gt;% 
  select()</code></pre>
<p>In the chapter on filtering data we began by reading in the data, selecting columns, and then filtered data. Here we will recreate the <code>low_inc_or_walk</code> object which identified Census Tracts that have a higher rate of commuters who walk than drive or have a median household income below $40,000.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="the-pipe.html#cb113-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb113-2"><a href="the-pipe.html#cb113-2"></a></span>
<span id="cb113-3"><a href="the-pipe.html#cb113-3"></a>low_inc_or_walk &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/ACS_1317_TRACT.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb113-4"><a href="the-pipe.html#cb113-4"></a><span class="st">  </span><span class="kw">select</span>(</span>
<span id="cb113-5"><a href="the-pipe.html#cb113-5"></a>    county,</span>
<span id="cb113-6"><a href="the-pipe.html#cb113-6"></a>    <span class="kw">starts_with</span>(<span class="st">&quot;commute&quot;</span>),</span>
<span id="cb113-7"><a href="the-pipe.html#cb113-7"></a>    <span class="kw">starts_with</span>(<span class="st">&quot;by&quot;</span>),</span>
<span id="cb113-8"><a href="the-pipe.html#cb113-8"></a>    med_house_income</span>
<span id="cb113-9"><a href="the-pipe.html#cb113-9"></a>  ) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb113-10"><a href="the-pipe.html#cb113-10"></a><span class="st">  </span><span class="kw">filter</span>(</span>
<span id="cb113-11"><a href="the-pipe.html#cb113-11"></a>    by_walk <span class="op">&gt;</span><span class="st"> </span>by_auto,</span>
<span id="cb113-12"><a href="the-pipe.html#cb113-12"></a>    med_house_income <span class="op">&lt;</span><span class="st"> </span><span class="dv">40000</span></span>
<span id="cb113-13"><a href="the-pipe.html#cb113-13"></a>  )</span>
<span id="cb113-14"><a href="the-pipe.html#cb113-14"></a><span class="kw">glimpse</span>(low_inc_or_walk)</span>
<span id="cb113-15"><a href="the-pipe.html#cb113-15"></a><span class="co">#&gt; Rows: 11</span></span>
<span id="cb113-16"><a href="the-pipe.html#cb113-16"></a><span class="co">#&gt; Columns: 11</span></span>
<span id="cb113-17"><a href="the-pipe.html#cb113-17"></a><span class="co">#&gt; $ county           &lt;chr&gt; &quot;HAMPSHIRE&quot;, &quot;SUFFOLK&quot;, &quot;SUFFOLK&quot;, &quot;SUFFOLK&quot;, &quot;SUFFO…</span></span>
<span id="cb113-18"><a href="the-pipe.html#cb113-18"></a><span class="co">#&gt; $ commute_less10   &lt;dbl&gt; 0.40234261, 0.34490741, 0.41918528, 0.09421755, 0.06…</span></span>
<span id="cb113-19"><a href="the-pipe.html#cb113-19"></a><span class="co">#&gt; $ commute1030      &lt;dbl&gt; 0.5077599, 0.3726852, 0.4042926, 0.5200162, 0.552884…</span></span>
<span id="cb113-20"><a href="the-pipe.html#cb113-20"></a><span class="co">#&gt; $ commute3060      &lt;dbl&gt; 0.07027818, 0.22777778, 0.14673675, 0.35624747, 0.27…</span></span>
<span id="cb113-21"><a href="the-pipe.html#cb113-21"></a><span class="co">#&gt; $ commute6090      &lt;dbl&gt; 0.01288433, 0.04953704, 0.02058695, 0.02951880, 0.07…</span></span>
<span id="cb113-22"><a href="the-pipe.html#cb113-22"></a><span class="co">#&gt; $ commute_over90   &lt;dbl&gt; 0.006734993, 0.005092593, 0.009198423, 0.000000000, …</span></span>
<span id="cb113-23"><a href="the-pipe.html#cb113-23"></a><span class="co">#&gt; $ by_auto          &lt;dbl&gt; 0.1889132, 0.2140026, 0.1082621, 0.1704500, 0.159292…</span></span>
<span id="cb113-24"><a href="the-pipe.html#cb113-24"></a><span class="co">#&gt; $ by_pub_trans     &lt;dbl&gt; 0.04570873, 0.11933069, 0.15384615, 0.29191557, 0.30…</span></span>
<span id="cb113-25"><a href="the-pipe.html#cb113-25"></a><span class="co">#&gt; $ by_bike          &lt;dbl&gt; 0.014344761, 0.019815059, 0.008547009, 0.071286340, …</span></span>
<span id="cb113-26"><a href="the-pipe.html#cb113-26"></a><span class="co">#&gt; $ by_walk          &lt;dbl&gt; 0.5801118, 0.5808014, 0.6471306, 0.4066109, 0.380531…</span></span>
<span id="cb113-27"><a href="the-pipe.html#cb113-27"></a><span class="co">#&gt; $ med_house_income &lt;dbl&gt; 2499, 21773, 36250, 34677, 30500, 28618, 16094, 1926…</span></span></code></pre></div>
<p>The reason this pipe works is because the output of each function call is yet another tibble and the pipe operator is passing that resultant tibble as the first argument to the next function.</p>
<p>Not only does the pipe aid in the manipulation of data, it also has a lot of utility in crafting ggplots. By piping your tibble into a ggplot call, this allows you to quickly iterate on the input data from either filtering down your data to creating new variables for visualization purposes.</p>
<p>The following sections will use the pipe operator in favor of the above listed alternatives.</p>
</div>
<div id="revisiting-our-scenario" class="section level2" number="13.2">
<h2><span class="header-section-number">13.2</span> Revisiting our scenario</h2>
<p>Now that we have the pipe operator at our fingertips, we ought to think about how we can incorporate it into our previous work. In our earlier scenario we</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="the-pipe.html#cb114-1"></a>acs_raw &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/ACS_1317_TRACT.csv&quot;</span>)</span>
<span id="cb114-2"><a href="the-pipe.html#cb114-2"></a></span>
<span id="cb114-3"><a href="the-pipe.html#cb114-3"></a>commute &lt;-<span class="st"> </span><span class="kw">select</span>(acs_raw,</span>
<span id="cb114-4"><a href="the-pipe.html#cb114-4"></a>       county,</span>
<span id="cb114-5"><a href="the-pipe.html#cb114-5"></a>       hs_grad, bach, master,</span>
<span id="cb114-6"><a href="the-pipe.html#cb114-6"></a>       <span class="kw">starts_with</span>(<span class="st">&quot;commute&quot;</span>),</span>
<span id="cb114-7"><a href="the-pipe.html#cb114-7"></a>       <span class="kw">starts_with</span>(<span class="st">&quot;by&quot;</span>),</span>
<span id="cb114-8"><a href="the-pipe.html#cb114-8"></a>       med_house_income) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb114-9"><a href="the-pipe.html#cb114-9"></a><span class="st">  </span><span class="kw">filter</span>(county <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;SUFFOLK&quot;</span>, <span class="st">&quot;NORFOLK&quot;</span>, <span class="st">&quot;MIDDLESEX&quot;</span>))</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="thats-too-much-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="creating-new-measures.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["urban-commons-toolkit.pdf", "urban-commons-toolkit.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
