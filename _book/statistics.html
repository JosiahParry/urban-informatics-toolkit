<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 25 Statistics | Urban Informatics Toolkit</title>
  <meta name="description" content="A hands on introduction approach to analyzing the urban Commons." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 25 Statistics | Urban Informatics Toolkit" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A hands on introduction approach to analyzing the urban Commons." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 25 Statistics | Urban Informatics Toolkit" />
  
  <meta name="twitter:description" content="A hands on introduction approach to analyzing the urban Commons." />
  

<meta name="author" content="Josiah Parry" />


<meta name="date" content="2020-04-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="multiple-data-sets.html"/>
<link rel="next" href="spatial-analysis.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Urban Informatics Toolkit</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i><b>1.1</b> Structure of the book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#considerations"><i class="fa fa-check"></i><b>1.2</b> Considerations</a></li>
</ul></li>
<li class="part"><span><b>I Foundations of Urban Informatics</b></span></li>
<li class="chapter" data-level="2" data-path="the-utility-and-danger-of-big-data.html"><a href="the-utility-and-danger-of-big-data.html"><i class="fa fa-check"></i><b>2</b> The Utility and Danger of Big Data</a></li>
<li class="chapter" data-level="3" data-path="data-in-the-municipal-context.html"><a href="data-in-the-municipal-context.html"><i class="fa fa-check"></i><b>3</b> Data in the municipal context</a></li>
<li class="chapter" data-level="4" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html"><i class="fa fa-check"></i><b>4</b> Approaches to and Schools of Urban Informatics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html#scientific-approaches"><i class="fa fa-check"></i><b>4.1</b> Scientific approaches</a></li>
<li class="chapter" data-level="4.2" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html#the-chicago-school"><i class="fa fa-check"></i><b>4.2</b> The Chicago School</a></li>
<li class="chapter" data-level="4.3" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html#complexity-and-santa-fe-institute"><i class="fa fa-check"></i><b>4.3</b> Complexity and Santa Fe Institute</a></li>
<li class="chapter" data-level="4.4" data-path="approaches-to-and-schools-of-urban-informatics.html"><a href="approaches-to-and-schools-of-urban-informatics.html#a-hybrid-approach"><i class="fa fa-check"></i><b>4.4</b> A Hybrid Approach</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ecometrics.html"><a href="ecometrics.html"><i class="fa fa-check"></i><b>5</b> Ecometrics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ecometrics.html"><a href="ecometrics.html#broken-windows-theory"><i class="fa fa-check"></i><b>5.1</b> Broken Windows Theory</a></li>
<li class="chapter" data-level="5.2" data-path="ecometrics.html"><a href="ecometrics.html#quantifying-disorder"><i class="fa fa-check"></i><b>5.2</b> Quantifying Disorder</a></li>
</ul></li>
<li class="part"><span><b>II Toolkit Foundations</b></span></li>
<li class="chapter" data-level="6" data-path="the-basics.html"><a href="the-basics.html"><i class="fa fa-check"></i><b>6</b> The basics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="the-basics.html"><a href="the-basics.html#what-is-r-and-why-do-i-care"><i class="fa fa-check"></i><b>6.1</b> What is R and why do I care?</a></li>
<li class="chapter" data-level="6.2" data-path="the-basics.html"><a href="the-basics.html#the-rstudio-ide"><i class="fa fa-check"></i><b>6.2</b> The RStudio IDE</a></li>
<li class="chapter" data-level="6.3" data-path="the-basics.html"><a href="the-basics.html#installing-r-rstudio"><i class="fa fa-check"></i><b>6.3</b> Installing R &amp; RStudio</a></li>
<li class="chapter" data-level="6.4" data-path="the-basics.html"><a href="the-basics.html#preventative-care"><i class="fa fa-check"></i><b>6.4</b> Preventative Care</a></li>
<li class="chapter" data-level="6.5" data-path="the-basics.html"><a href="the-basics.html#before-we-embark"><i class="fa fa-check"></i><b>6.5</b> Before we embark</a></li>
<li class="chapter" data-level="6.6" data-path="the-basics.html"><a href="the-basics.html#getting-help"><i class="fa fa-check"></i><b>6.6</b> Getting Help</a></li>
<li class="chapter" data-level="6.7" data-path="the-basics.html"><a href="the-basics.html#reminders"><i class="fa fa-check"></i><b>6.7</b> Reminders</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html"><i class="fa fa-check"></i><b>7</b> R as a calculator</a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#arithmetic-operators"><i class="fa fa-check"></i><b>7.1</b> Arithmetic Operators</a></li>
<li class="chapter" data-level="7.2" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#variable-assignment"><i class="fa fa-check"></i><b>7.2</b> Variable assignment</a></li>
<li class="chapter" data-level="7.3" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#functions"><i class="fa fa-check"></i><b>7.3</b> Functions</a></li>
<li class="chapter" data-level="7.4" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#extensions-to-r"><i class="fa fa-check"></i><b>7.4</b> Extensions to R</a></li>
<li class="chapter" data-level="7.5" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#loading-packages"><i class="fa fa-check"></i><b>7.5</b> Loading Packages</a></li>
<li class="chapter" data-level="7.6" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#whats-next"><i class="fa fa-check"></i><b>7.6</b> What’s next?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="reading-data.html"><a href="reading-data.html"><i class="fa fa-check"></i><b>8</b> Reading data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="reading-data.html"><a href="reading-data.html#background"><i class="fa fa-check"></i><b>8.1</b> Background</a></li>
<li class="chapter" data-level="8.2" data-path="reading-data.html"><a href="reading-data.html#actually-reading-data"><i class="fa fa-check"></i><b>8.2</b> Actually Reading Data</a></li>
<li class="chapter" data-level="8.3" data-path="reading-data.html"><a href="reading-data.html#other-common-data-formats"><i class="fa fa-check"></i><b>8.3</b> Other common data formats</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="exploratory-visual-analysis.html"><a href="exploratory-visual-analysis.html"><i class="fa fa-check"></i><b>9</b> Exploratory Visual Analysis</a>
<ul>
<li class="chapter" data-level="9.1" data-path="exploratory-visual-analysis.html"><a href="exploratory-visual-analysis.html#the-american-community-survey"><i class="fa fa-check"></i><b>9.1</b> The American Community Survey</a></li>
<li class="chapter" data-level="9.2" data-path="exploratory-visual-analysis.html"><a href="exploratory-visual-analysis.html#a-first-visualization"><i class="fa fa-check"></i><b>9.2</b> A first visualization</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html"><i class="fa fa-check"></i><b>10</b> General data manipulation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html#scenario"><i class="fa fa-check"></i><b>10.1</b> Scenario</a></li>
<li class="chapter" data-level="10.2" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html#getting-physical-with-the-data"><i class="fa fa-check"></i><b>10.2</b> Getting physical with the data</a></li>
<li class="chapter" data-level="10.3" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html#selecting-rows"><i class="fa fa-check"></i><b>10.3</b> Selecting Rows</a></li>
<li class="chapter" data-level="10.4" data-path="general-data-manipulation.html"><a href="general-data-manipulation.html#revisiting-commmuting"><i class="fa fa-check"></i><b>10.4</b> Revisiting commmuting</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="thats-too-much-data.html"><a href="thats-too-much-data.html"><i class="fa fa-check"></i><b>11</b> That’s <em>too much</em> data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="thats-too-much-data.html"><a href="thats-too-much-data.html#filtering"><i class="fa fa-check"></i><b>11.1</b> <code>filter()</code>ing</a></li>
<li class="chapter" data-level="11.2" data-path="thats-too-much-data.html"><a href="thats-too-much-data.html#logical-operators"><i class="fa fa-check"></i><b>11.2</b> Logical operators</a></li>
<li class="chapter" data-level="11.3" data-path="thats-too-much-data.html"><a href="thats-too-much-data.html#defining-the-greater-boston-area"><i class="fa fa-check"></i><b>11.3</b> Defining the Greater Boston Area</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="the-pipe.html"><a href="the-pipe.html"><i class="fa fa-check"></i><b>12</b> The pipe <code>%&gt;%</code></a>
<ul>
<li class="chapter" data-level="12.1" data-path="the-pipe.html"><a href="the-pipe.html#applying-the-pipe"><i class="fa fa-check"></i><b>12.1</b> Applying the pipe</a></li>
<li class="chapter" data-level="12.2" data-path="the-pipe.html"><a href="the-pipe.html#revisiting-our-scenario"><i class="fa fa-check"></i><b>12.2</b> Revisiting our scenario</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="creating-new-measures.html"><a href="creating-new-measures.html"><i class="fa fa-check"></i><b>13</b> Creating new measures</a></li>
<li class="chapter" data-level="14" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>14</b> Data Structures</a>
<ul>
<li class="chapter" data-level="14.1" data-path="data-structures.html"><a href="data-structures.html#atomic-vectors"><i class="fa fa-check"></i><b>14.1</b> Atomic Vectors</a></li>
<li class="chapter" data-level="14.2" data-path="data-structures.html"><a href="data-structures.html#data-frames"><i class="fa fa-check"></i><b>14.2</b> Data Frames</a></li>
<li class="chapter" data-level="14.3" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>14.3</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="summary-statistics.html"><a href="summary-statistics.html"><i class="fa fa-check"></i><b>15</b> Summary statistics</a></li>
<li class="chapter" data-level="16" data-path="summarizing-the-tidy-way.html"><a href="summarizing-the-tidy-way.html"><i class="fa fa-check"></i><b>16</b> Summarizing the tidy way</a></li>
<li class="chapter" data-level="17" data-path="toolkit-review.html"><a href="toolkit-review.html"><i class="fa fa-check"></i><b>17</b> Toolkit review</a></li>
<li class="part"><span><b>III Vizualization Strategies</b></span></li>
<li class="chapter" data-level="18" data-path="layered-i.html"><a href="layered-i.html"><i class="fa fa-check"></i><b>18</b> Grammar of layered graphics I</a>
<ul>
<li class="chapter" data-level="18.1" data-path="layered-i.html"><a href="layered-i.html#the-grammar-of-layered-graphics"><i class="fa fa-check"></i><b>18.1</b> The Grammar of Layered Graphics</a></li>
<li class="chapter" data-level="18.2" data-path="layered-i.html"><a href="layered-i.html#layers-and-defaults"><i class="fa fa-check"></i><b>18.2</b> Layers and defaults</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="visualizing-trends-and-relationships.html"><a href="visualizing-trends-and-relationships.html"><i class="fa fa-check"></i><b>19</b> Visualizing Trends and Relationships</a>
<ul>
<li class="chapter" data-level="19.1" data-path="visualizing-trends-and-relationships.html"><a href="visualizing-trends-and-relationships.html#univariate-visualizations"><i class="fa fa-check"></i><b>19.1</b> Univariate visualizations</a></li>
<li class="chapter" data-level="19.2" data-path="visualizing-trends-and-relationships.html"><a href="visualizing-trends-and-relationships.html#bivariate-visualizations"><i class="fa fa-check"></i><b>19.2</b> Bivariate visualizations</a></li>
<li class="chapter" data-level="19.3" data-path="visualizing-trends-and-relationships.html"><a href="visualizing-trends-and-relationships.html#review"><i class="fa fa-check"></i><b>19.3</b> Review:</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="grammer-of-layered-graphics-ii.html"><a href="grammer-of-layered-graphics-ii.html"><i class="fa fa-check"></i><b>20</b> Grammer of layered graphics II</a>
<ul>
<li class="chapter" data-level="20.1" data-path="grammer-of-layered-graphics-ii.html"><a href="grammer-of-layered-graphics-ii.html#scales"><i class="fa fa-check"></i><b>20.1</b> Scales</a></li>
<li class="chapter" data-level="20.2" data-path="grammer-of-layered-graphics-ii.html"><a href="grammer-of-layered-graphics-ii.html#coordinates"><i class="fa fa-check"></i><b>20.2</b> Coordinates</a></li>
<li class="chapter" data-level="20.3" data-path="grammer-of-layered-graphics-ii.html"><a href="grammer-of-layered-graphics-ii.html#facets"><i class="fa fa-check"></i><b>20.3</b> Facets</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="visualizing-beyond-2-dimensions.html"><a href="visualizing-beyond-2-dimensions.html"><i class="fa fa-check"></i><b>21</b> Visualizing beyond 2-dimensions</a>
<ul>
<li class="chapter" data-level="21.1" data-path="visualizing-beyond-2-dimensions.html"><a href="visualizing-beyond-2-dimensions.html#color"><i class="fa fa-check"></i><b>21.1</b> Color</a></li>
<li class="chapter" data-level="21.2" data-path="visualizing-beyond-2-dimensions.html"><a href="visualizing-beyond-2-dimensions.html#shape-and-size"><i class="fa fa-check"></i><b>21.2</b> Shape and Size</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="visualizing-through-time.html"><a href="visualizing-through-time.html"><i class="fa fa-check"></i><b>22</b> Visualizing through time</a>
<ul>
<li class="chapter" data-level="22.1" data-path="visualizing-through-time.html"><a href="visualizing-through-time.html#working-with-dates"><i class="fa fa-check"></i><b>22.1</b> Working with dates</a></li>
<li class="chapter" data-level="22.2" data-path="visualizing-through-time.html"><a href="visualizing-through-time.html#standard-visual-approach"><i class="fa fa-check"></i><b>22.2</b> Standard visual approach</a></li>
<li class="chapter" data-level="22.3" data-path="visualizing-through-time.html"><a href="visualizing-through-time.html#animation-as-time"><i class="fa fa-check"></i><b>22.3</b> Animation as time</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="visualization-review.html"><a href="visualization-review.html"><i class="fa fa-check"></i><b>23</b> Visualization Review</a></li>
<li class="part"><span><b>IV More than hammer and nails</b></span></li>
<li class="chapter" data-level="24" data-path="multiple-data-sets.html"><a href="multiple-data-sets.html"><i class="fa fa-check"></i><b>24</b> Multiple data sets</a>
<ul>
<li class="chapter" data-level="24.1" data-path="multiple-data-sets.html"><a href="multiple-data-sets.html#exercise-2"><i class="fa fa-check"></i><b>24.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>25</b> Statistics</a>
<ul>
<li class="chapter" data-level="25.1" data-path="statistics.html"><a href="statistics.html#the-data-1"><i class="fa fa-check"></i><b>25.1</b> The data</a></li>
<li class="chapter" data-level="25.2" data-path="statistics.html"><a href="statistics.html#the-formula-interface"><i class="fa fa-check"></i><b>25.2</b> The formula interface</a></li>
<li class="chapter" data-level="25.3" data-path="statistics.html"><a href="statistics.html#t-tests"><i class="fa fa-check"></i><b>25.3</b> T-tests</a></li>
<li class="chapter" data-level="25.4" data-path="statistics.html"><a href="statistics.html#anova"><i class="fa fa-check"></i><b>25.4</b> ANOVA</a></li>
<li class="chapter" data-level="25.5" data-path="statistics.html"><a href="statistics.html#linear-regression"><i class="fa fa-check"></i><b>25.5</b> Linear regression</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="spatial-analysis.html"><a href="spatial-analysis.html"><i class="fa fa-check"></i><b>26</b> Spatial Analysis</a>
<ul>
<li class="chapter" data-level="26.1" data-path="spatial-analysis.html"><a href="spatial-analysis.html#types-of-spatial-data"><i class="fa fa-check"></i><b>26.1</b> Types of spatial data</a></li>
<li class="chapter" data-level="26.2" data-path="spatial-analysis.html"><a href="spatial-analysis.html#working-with-spatial-data"><i class="fa fa-check"></i><b>26.2</b> Working with spatial data</a></li>
<li class="chapter" data-level="26.3" data-path="spatial-analysis.html"><a href="spatial-analysis.html#creating-simple-features-from-a-tibble"><i class="fa fa-check"></i><b>26.3</b> Creating simple features from a tibble</a></li>
<li class="chapter" data-level="26.4" data-path="spatial-analysis.html"><a href="spatial-analysis.html#plotting-sf-objects-with-ggplot"><i class="fa fa-check"></i><b>26.4</b> Plotting sf objects with ggplot</a></li>
<li class="chapter" data-level="26.5" data-path="spatial-analysis.html"><a href="spatial-analysis.html#connecting-points-to-polygons"><i class="fa fa-check"></i><b>26.5</b> Connecting points to polygons</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/josiahparry/urban-informatics-toolkit" target="blank">GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Urban Informatics Toolkit</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="statistics" class="section level1" number="25">
<h1><span class="header-section-number">Chapter 25</span> Statistics</h1>
<p>In the course of your analyses you will both want to and need to conduct statistical tests. It is important that you are equipped to perform these tests in R as well. Teaching you statistical concepts is outside of the scope of this book. For an introduction to statistical concepts using R, I recommend reading David Dalpiaz’s free and open <a href="https://daviddalpiaz.github.io/r4sl/"><em>R for Statistical Learning</em></a><a href="#fn73" class="footnote-ref" id="fnref73"><sup>73</sup></a>. In this section we will review <em>how</em> to implement statistical tests and extract useful information from them as well. We will cover t-tests, ANOVA, and linear regression.</p>
<p>To explore these statistics we will use data from Inside Airbnb. Of interest is the relationship between price and superhosts, price and room type, and finally how both superhosts and room type contribute to price.</p>
<div id="the-data-1" class="section level2" number="25.1">
<h2><span class="header-section-number">25.1</span> The data</h2>
<p>We will use data from both the <code>hosts</code> and <code>listings</code> datasets. The former contains superhost data while the later has both the price and room type information. First we will read in both of these datasets.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="statistics.html#cb291-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb291-2"><a href="statistics.html#cb291-2"></a></span>
<span id="cb291-3"><a href="statistics.html#cb291-3"></a>listings &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/airbnb/listings.csv&quot;</span>)</span>
<span id="cb291-4"><a href="statistics.html#cb291-4"></a>hosts &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/airbnb/hosts.csv&quot;</span>)</span>
<span id="cb291-5"><a href="statistics.html#cb291-5"></a></span>
<span id="cb291-6"><a href="statistics.html#cb291-6"></a><span class="kw">glimpse</span>(listings)</span></code></pre></div>
<pre><code>## Rows: 3,799
## Columns: 7
## $ id               &lt;dbl&gt; 3781, 5506, 6695, 8789, 10730, 10813, 10986, 16384, …
## $ neighborhood     &lt;chr&gt; &quot;East Boston&quot;, &quot;Roxbury&quot;, &quot;Roxbury&quot;, &quot;Downtown&quot;, &quot;Do…
## $ room_type        &lt;chr&gt; &quot;Entire home/apt&quot;, &quot;Entire home/apt&quot;, &quot;Entire home/a…
## $ price            &lt;dbl&gt; 125, 145, 169, 99, 150, 179, 125, 50, 154, 115, 148,…
## $ minimum_nights   &lt;dbl&gt; 28, 3, 3, 91, 91, 91, 91, 91, 29, 1, 2, 2, 2, 6, 3, …
## $ availability_365 &lt;dbl&gt; 68, 322, 274, 247, 29, 0, 364, 365, 304, 285, 62, 24…
## $ host_id          &lt;dbl&gt; 4804, 8229, 8229, 26988, 26988, 38997, 38997, 23078,…</code></pre>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="statistics.html#cb293-1"></a><span class="kw">glimpse</span>(hosts)</span></code></pre></div>
<pre><code>## Rows: 1,335
## Columns: 9
## $ id              &lt;dbl&gt; 4804, 8229, 26988, 38997, 23078, 71783, 85130, 85770,…
## $ name            &lt;chr&gt; &quot;Frank&quot;, &quot;Terry&quot;, &quot;Anne&quot;, &quot;Michelle&quot;, &quot;Eric&quot;, &quot;Lance&quot;…
## $ since_year      &lt;dbl&gt; 2008, 2009, 2009, 2009, 2009, 2010, 2010, 2010, 2010,…
## $ since_month     &lt;chr&gt; &quot;12&quot;, &quot;02&quot;, &quot;07&quot;, &quot;09&quot;, &quot;06&quot;, &quot;01&quot;, &quot;02&quot;, &quot;02&quot;, &quot;03&quot;,…
## $ since_day       &lt;chr&gt; &quot;03&quot;, &quot;19&quot;, &quot;22&quot;, &quot;16&quot;, &quot;24&quot;, &quot;19&quot;, &quot;24&quot;, &quot;26&quot;, &quot;23&quot;,…
## $ response_rate   &lt;chr&gt; &quot;100%&quot;, &quot;100%&quot;, &quot;100%&quot;, &quot;92%&quot;, &quot;50%&quot;, &quot;98%&quot;, &quot;66%&quot;, &quot;…
## $ acceptance_rate &lt;chr&gt; &quot;50%&quot;, &quot;100%&quot;, &quot;84%&quot;, &quot;17%&quot;, &quot;N/A&quot;, &quot;98%&quot;, &quot;97%&quot;, &quot;10…
## $ superhost       &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1,…
## $ n_listings      &lt;dbl&gt; 5, 2, 9, 13, 3, 40, 7, 4, 1, 2, 1, 1, 5, 1, 1, 1, 1, …</code></pre>
<p>In order to join these two tibbles together we need to figure out what the common identifiers are. In <code>listings</code> we can infer that the <strong>primary key</strong> is <code>id</code> while the <strong>foreign key</strong> is <code>host_id</code>. While the <code>hosts</code> tibble only has one <code>id</code> column. Clearly the join needs to be between <code>host_id</code> and <code>id</code> from <code>listings</code> and <code>hosts</code> respectively. We will perform a left join then select the columns <code>price</code>, <code>room_type</code> and <code>superhost</code> and assign that to the object <code>airbnb</code>.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="statistics.html#cb295-1"></a>airbnb &lt;-<span class="st"> </span><span class="kw">left_join</span>(listings, hosts, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;host_id&quot;</span> =<span class="st"> &quot;id&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb295-2"><a href="statistics.html#cb295-2"></a><span class="st">  </span><span class="kw">select</span>(price, room_type, superhost) </span>
<span id="cb295-3"><a href="statistics.html#cb295-3"></a></span>
<span id="cb295-4"><a href="statistics.html#cb295-4"></a><span class="kw">glimpse</span>(airbnb)</span></code></pre></div>
<pre><code>## Rows: 3,799
## Columns: 3
## $ price     &lt;dbl&gt; 125, 145, 169, 99, 150, 179, 125, 50, 154, 115, 148, 275, 2…
## $ room_type &lt;chr&gt; &quot;Entire home/apt&quot;, &quot;Entire home/apt&quot;, &quot;Entire home/apt&quot;, &quot;E…
## $ superhost &lt;dbl&gt; 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0,…</code></pre>
<p>Before we can engage in any statistical testing we should do our due diligence and first visualize the relationship before we test it. Because we are comparing a group to a continuous variable a boxplot will suffice.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="statistics.html#cb297-1"></a><span class="kw">ggplot</span>(airbnb, <span class="kw">aes</span>(price, superhost, <span class="dt">group =</span> superhost)) <span class="op">+</span></span>
<span id="cb297-2"><a href="statistics.html#cb297-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>()</span></code></pre></div>
<p><img src="09-statistics_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<blockquote>
<p>Note that we are setting the group to <code>superhost</code> this is because it is dummy coded as a numeric value. ggplot is attempting to consider it numeric rather than categorical.</p>
</blockquote>
<p>Clearly there are some noticeable outliers above the $2,500 mark. Let’s filter out these values before we get on to our testing and while we’re at it, let’s convert <code>superhost</code> to a factor with <code>factor()</code>. Save the the filtered results to <code>bnb_filt</code>. Recreate the above visualization with the new object.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="statistics.html#cb298-1"></a>bnb_filt &lt;-<span class="st"> </span><span class="kw">filter</span>(airbnb, price <span class="op">&lt;</span><span class="st"> </span><span class="dv">2500</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb298-2"><a href="statistics.html#cb298-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">superhost =</span> <span class="kw">factor</span>(superhost))</span>
<span id="cb298-3"><a href="statistics.html#cb298-3"></a></span>
<span id="cb298-4"><a href="statistics.html#cb298-4"></a><span class="kw">ggplot</span>(bnb_filt, <span class="kw">aes</span>(price, superhost)) <span class="op">+</span></span>
<span id="cb298-5"><a href="statistics.html#cb298-5"></a><span class="st">  </span><span class="kw">geom_boxplot</span>()</span></code></pre></div>
<p><img src="09-statistics_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>The first thing you may notices is that we no longer had to specify the <code>group</code> aesthetic because we converted <code>superhost</code> to a non-numeric format. From the above visualization it looks like that being a superhost does not necessarily increase the price of a listing. We can now test these means by using <code>t.test()</code>. There are a number of ways in which we can use this function but the most generalizable way is to use what is called the <strong>formula</strong> interface.</p>
</div>
<div id="the-formula-interface" class="section level2" number="25.2">
<h2><span class="header-section-number">25.2</span> The formula interface</h2>
<p>The formula interface is a way of defining <em>statistical</em> formulae. Or maybe a bit more clearly it let’s us tell R which columns to use when fitting a model<a href="#fn74" class="footnote-ref" id="fnref74"><sup>74</sup></a>. The general format it takes is <code>y ~ x</code> which reads <em>y as a function of x</em>. In the case of a t-test the <code>y</code> is the variable that we will be testing the means of and the <code>x</code> is what group to compare. If our data are already in a tidy format—like our Airbnb data—this will be rather easy to adhere to.</p>
</div>
<div id="t-tests" class="section level2" number="25.3">
<h2><span class="header-section-number">25.3</span> T-tests</h2>
<p>To perform a t-test we will use the <code>t.test()</code> function with the arguments <code>formula</code> and <code>data</code>. An example call looks like <code>t.test(y ~ x, data = df)</code>. In our case our <code>y</code> is <code>price</code> because it is our variable of interest or our dependent variable. Since we are curious how <code>price</code> changes by <code>superhost</code> status, we will put <code>superhost</code> in the <code>x</code> spot.</p>
<p>Conduct a t-test and store the results in <code>price_t</code>. Print it out afterwards.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="statistics.html#cb299-1"></a>(price_t &lt;-<span class="st"> </span><span class="kw">t.test</span>(price <span class="op">~</span><span class="st"> </span>superhost, <span class="dt">data =</span> bnb_filt))</span></code></pre></div>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  price by superhost
## t = 2.3261, df = 2029.4, p-value = 0.02011
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##   1.949967 22.904491
## sample estimates:
## mean in group 0 mean in group 1 
##        175.1989        162.7717</code></pre>
<p>The above is a somewhat cluttered buch of numbers and words. But in there we can see our t-value (<code>t = 2.3261</code>), degrees of freedom (<code>df = 2029.4</code>), and our p-value (<code>p-value = 0.02011</code>). From this test we can tell that with an alpha level of 0.05 we can reject the null hypothesis.</p>
<div id="tidying-up-after-our-models" class="section level3" number="25.3.1">
<h3><span class="header-section-number">25.3.1</span> Tidying up after our models</h3>
<p>While this is useful, we’re going to, at some point, want to extract these statistics in some usable format. Enter <a href="https://broom.tidyverse.org/"><code>broom</code></a>. From the documentation:</p>
<blockquote>
<p>"<code>broom</code> summarizes key information about models in tidy tibble()s. broom provides three verbs to make it convenient to interact with model objects.</p>
<ul>
<li>tidy() summarizes information about model components</li>
<li>glance() reports information about the entire model</li>
<li>augment() adds informations about observations to a dataset<a href="#fn75" class="footnote-ref" id="fnref75"><sup>75</sup></a></li>
</ul>
</blockquote>
<p>Make sure that broom is installed with <code>install.packages("broom")</code>. Once that is installed use the function <code>tidy()</code> on the <code>price_t</code> object,</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="statistics.html#cb301-1"></a>broom<span class="op">::</span><span class="kw">tidy</span>(price_t)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 10
##   estimate estimate1 estimate2 statistic p.value parameter conf.low conf.high
##      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
## 1     12.4      175.      163.      2.33  0.0201     2029.     1.95      22.9
## # … with 2 more variables: method &lt;chr&gt;, alternative &lt;chr&gt;</code></pre>
<p>The result is a tibble that can be easily manipulated and worked with. But naturally we will want to explore beyond just two groups. And in that case we must perform an analysis of variance (ANOVA).</p>
</div>
</div>
<div id="anova" class="section level2" number="25.4">
<h2><span class="header-section-number">25.4</span> ANOVA</h2>
<p>The ANOVA test is used in the case when t-tests cannot. That is, they are used when we want to know if there is a difference in means between groups when there are two or more groups. To perform an ANOVA we use the <code>aov()</code> function—an initialism for <strong>a</strong>analysis <strong>o</strong>f <strong>v</strong>ariance—with the same arguments that we used in <code>t.test()</code>. The only difference here is that the <code>x</code> is a column that has more than two groups—<code>room_type</code>. We can fit the ANOVA model with <code>price</code> as our <code>y</code> and <code>room_type</code> as our <code>x</code>.</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="statistics.html#cb303-1"></a>(price_aov &lt;-<span class="st"> </span><span class="kw">aov</span>(price <span class="op">~</span><span class="st"> </span>room_type, <span class="dt">data =</span> bnb_filt))</span></code></pre></div>
<pre><code>## Call:
##    aov(formula = price ~ room_type, data = bnb_filt)
## 
## Terms:
##                 room_type Residuals
## Sum of Squares   15152015  70853604
## Deg. of Freedom         3      3789
## 
## Residual standard error: 136.7473
## Estimated effects may be unbalanced</code></pre>
<p>When we print out the ANOVA model object we actually don’t see the results we were anticipating. To get thos we have to pass the model object to the function <code>summary()</code>.</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="statistics.html#cb305-1"></a><span class="kw">summary</span>(price_aov)</span></code></pre></div>
<pre><code>##               Df   Sum Sq Mean Sq F value Pr(&gt;F)    
## room_type      3 15152015 5050672   270.1 &lt;2e-16 ***
## Residuals   3789 70853604   18700                   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>Now here we find the results of our test: p &lt; 0.001. You may notice already that there is some inconsistency in which that ways that models are interacted with. That is why we use broom, to have one common way of working with model objects. If we’d like to access the model results in a consistent way we can again use <code>broom::tidy()</code>.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="statistics.html#cb307-1"></a>broom<span class="op">::</span><span class="kw">tidy</span>(price_aov)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 6
##   term         df     sumsq   meansq statistic    p.value
##   &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
## 1 room_type     3 15152015. 5050672.      270.  7.32e-159
## 2 Residuals  3789 70853604.   18700.       NA  NA</code></pre>
<p>Remember though that ANOVA tests if there is <em>any</em> variation between any two groups. The results of the test do not tell us <em>which</em> groups are different. And this is when we turn to Tukey’s Honestly Significant Difference (HSD). Tukey’s HSD creates a set of confidence intervals to compare each unique combination of our variables. To perform the test in R we pass the ANOVA model object to the function <code>TukeyHSD()</code></p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="statistics.html#cb309-1"></a>(price_hsd &lt;-<span class="st"> </span><span class="kw">TukeyHSD</span>(price_aov))</span></code></pre></div>
<pre><code>##   Tukey multiple comparisons of means
##     95% family-wise confidence level
## 
## Fit: aov(formula = price ~ room_type, data = bnb_filt)
## 
## $room_type
##                                     diff        lwr         upr     p adj
## Hotel room-Entire home/apt    -74.062500 -130.09198  -18.033019 0.0038353
## Private room-Entire home/apt -132.658355 -144.68495 -120.631764 0.0000000
## Shared room-Entire home/apt  -123.687500 -211.84397  -35.531026 0.0017890
## Private room-Hotel room       -58.595855 -115.00228   -2.189435 0.0381673
## Shared room-Hotel room        -49.625000 -153.58946   54.339462 0.6097851
## Shared room-Private room        8.970855  -79.42567   97.367379 0.9937854</code></pre>
<p>The results of the above test show that there are rather significant difference between hotel rooms and entire homes or apartments, private rooms and entire homes, shared rooms and entire homes, as well as private room and hotel room. With the use of broom and ggplot we can begin to visualize these restuls.</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="statistics.html#cb311-1"></a>(price_hsd_tidy &lt;-<span class="st"> </span>broom<span class="op">::</span><span class="kw">tidy</span>(price_hsd))</span></code></pre></div>
<pre><code>## # A tibble: 6 x 6
##   term      comparison                   estimate conf.low conf.high adj.p.value
##   &lt;chr&gt;     &lt;chr&gt;                           &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;
## 1 room_type Hotel room-Entire home/apt     -74.1    -130.     -18.0      3.84e-3
## 2 room_type Private room-Entire home/apt  -133.     -145.    -121.       1.38e-8
## 3 room_type Shared room-Entire home/apt   -124.     -212.     -35.5      1.79e-3
## 4 room_type Private room-Hotel room        -58.6    -115.      -2.19     3.82e-2
## 5 room_type Shared room-Hotel room         -49.6    -154.      54.3      6.10e-1
## 6 room_type Shared room-Private room         8.97    -79.4     97.4      9.94e-1</code></pre>
<p>With the tidied HSD object we can create a graph of point estimates and error bars.</p>
<blockquote>
<p>I personally like to call these Tie Fighter plots because they resemble the space ships from Star Wars.</p>
</blockquote>
<p>We can being by plotting the point estimates of each comparison.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="statistics.html#cb313-1"></a>(p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(price_hsd_tidy, <span class="kw">aes</span>(estimate, comparison)) <span class="op">+</span></span>
<span id="cb313-2"><a href="statistics.html#cb313-2"></a><span class="st">  </span><span class="kw">geom_point</span>())</span></code></pre></div>
<p><img src="09-statistics_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Next we can add a horizontal error bar (<code>geom_errorbarh()</code>) layer to the plot. This layer requires some additional aesthetics that we will set in the layer itself. These are <code>xmin</code> and <code>xmax</code>. Respectively they are used to mark the minimum and maximum extents of the error bars. In the case of the HSD object, the bounds of th confidence intervals have been already calculated for us and can be found in the columns <code>conf.low</code> and <code>conf.high</code>. We can pass these to the <code>xmin</code> and <code>xmax</code> aesthetic arguments.</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="statistics.html#cb314-1"></a>p <span class="op">+</span></span>
<span id="cb314-2"><a href="statistics.html#cb314-2"></a><span class="st">  </span><span class="kw">geom_errorbarh</span>(<span class="kw">aes</span>(<span class="dt">xmin =</span> conf.low, <span class="dt">xmax =</span> conf.high))</span></code></pre></div>
<p><img src="09-statistics_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="linear-regression" class="section level2" number="25.5">
<h2><span class="header-section-number">25.5</span> Linear regression</h2>
<p>When we want to move on to inference with linear models, we turn to the <code>lm()</code> function. This, like the <code>t.test()</code> and <code>aov()</code> functions requires both a formula and data. The difference is that the formulas that we will use are a bit more complex because we will often be using many variables. To predict y as some function of multiple inputs we have to declare all of those inputs in our formula which takes form of <code>y ~ x1 + x2 + ...</code>. So if we were to create a linear model that predicts price as a function of room type and whether or the host is a superhost, our formula will look like <code>price ~ room_type + superhost</code>.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="statistics.html#cb315-1"></a>price_lm &lt;-<span class="st"> </span><span class="kw">lm</span>(price <span class="op">~</span><span class="st"> </span>room_type <span class="op">+</span><span class="st"> </span>superhost, <span class="dt">data =</span> bnb_filt)</span>
<span id="cb315-2"><a href="statistics.html#cb315-2"></a></span>
<span id="cb315-3"><a href="statistics.html#cb315-3"></a><span class="kw">summary</span>(price_lm)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = price ~ room_type + superhost, data = bnb_filt)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -219.01  -64.01  -26.01   20.99 1780.99 
## 
## Coefficients:
##                        Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)            219.0073     3.0450  71.925  &lt; 2e-16 ***
## room_typeHotel room    -74.3532    21.8938  -3.396 0.000691 ***
## room_typePrivate room -132.7222     4.7004 -28.237  &lt; 2e-16 ***
## room_typeShared room  -123.5526    34.3168  -3.600 0.000322 ***
## superhost1               0.7244     4.9720   0.146 0.884172    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 136.8 on 3788 degrees of freedom
## Multiple R-squared:  0.1762, Adjusted R-squared:  0.1753 
## F-statistic: 202.5 on 4 and 3788 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>The output of this is very similar to that of the ANOVA model. Perhaps we can visualize it the same way?</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="statistics.html#cb317-1"></a>broom<span class="op">::</span><span class="kw">tidy</span>(price_lm)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 5
##   term                  estimate std.error statistic   p.value
##   &lt;chr&gt;                    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)            219.         3.04    71.9   0.       
## 2 room_typeHotel room    -74.4       21.9     -3.40  6.91e-  4
## 3 room_typePrivate room -133.         4.70   -28.2   2.34e-159
## 4 room_typeShared room  -124.        34.3     -3.60  3.22e-  4
## 5 superhost1               0.724      4.97     0.146 8.84e-  1</code></pre>
<p>Unfortunately when we tidy this up we don’t have the same columns. However we can ask for them explicitly by setting the argument <code>conf.int = TRUE</code>.</p>
<blockquote>
<p>You can find all possible arguments for <code>tidy()</code> in the exported object <code>broom::argument_glossary</code>.</p>
</blockquote>
<p>Using a similar structure as above, we can create a coefficient plot.</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="statistics.html#cb319-1"></a>broom<span class="op">::</span><span class="kw">tidy</span>(price_lm, <span class="dt">conf.int =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb319-2"><a href="statistics.html#cb319-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(estimate, term)) <span class="op">+</span></span>
<span id="cb319-3"><a href="statistics.html#cb319-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb319-4"><a href="statistics.html#cb319-4"></a><span class="st">  </span><span class="kw">geom_errorbarh</span>(<span class="kw">aes</span>(<span class="dt">xmin =</span> conf.low, <span class="dt">xmax =</span> conf.high))</span></code></pre></div>
<p><img src="09-statistics_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Unlike the t-test, a linear model provides much more information that will become useful such as goodness of fit measures, residuals, and predicted values. To extract these we can use the functions <code>glance()</code> and <code>augment()</code> from broom.</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="statistics.html#cb320-1"></a>broom<span class="op">::</span><span class="kw">glance</span>(price_lm)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 11
##   r.squared adj.r.squared sigma statistic   p.value    df  logLik    AIC    BIC
##       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1     0.176         0.175  137.      203. 1.29e-157     5 -24035. 48081. 48118.
## # … with 2 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="statistics.html#cb322-1"></a>broom<span class="op">::</span><span class="kw">augment</span>(price_lm) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb322-2"><a href="statistics.html#cb322-2"></a><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 10
##   price room_type superhost .fitted .se.fit .resid    .hat .sigma .cooksd
##   &lt;dbl&gt; &lt;chr&gt;     &lt;fct&gt;       &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
## 1   125 Entire h… 1            220.    4.66  -94.7 0.00116   137. 1.12e-4
## 2   145 Entire h… 1            220.    4.66  -74.7 0.00116   137. 6.94e-5
## 3   169 Entire h… 1            220.    4.66  -50.7 0.00116   137. 3.20e-5
## 4    99 Entire h… 1            220.    4.66 -121.  0.00116   137. 1.81e-4
## 5   150 Entire h… 1            220.    4.66  -69.7 0.00116   137. 6.04e-5
## # … with 1 more variable: .std.resid &lt;dbl&gt;</code></pre>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="73">
<li id="fn73"><p><em>R for Statistical Learning</em>. <a href="https://daviddalpiaz.github.io/r4sl/" class="uri">https://daviddalpiaz.github.io/r4sl/</a>.<a href="statistics.html#fnref73" class="footnote-back">↩︎</a></p></li>
<li id="fn74"><p><em>R for Dummies</em>. <a href="https://www.dummies.com/programming/r/how-to-use-the-formula-interface-in-r/" class="uri">https://www.dummies.com/programming/r/how-to-use-the-formula-interface-in-r/</a>.<a href="statistics.html#fnref74" class="footnote-back">↩︎</a></p></li>
<li id="fn75"><p>{broom} <a href="https://broom.tidyverse.org/" class="uri">https://broom.tidyverse.org/</a>.<a href="statistics.html#fnref75" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="multiple-data-sets.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="spatial-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["urban-commons-toolkit.pdf", "urban-commons-toolkit.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
